<mvc:View
   controllerName="ui5.testinvent.controller.ListagemEquipamentos"
   xmlns="sap.m"
   xmlns:core="sap.ui.core"
   xmlns:mvc="sap.ui.core.mvc">
   <Page >
   <customHeader>
        <Bar>
            <contentLeft>
                <Title 
					text="{i18n>homePageTitle}" 
					level="H1"/>
            </contentLeft>
			<contentRight>
				<Button
					id="btnAdicionarEquipamento"
					text="{i18n>btnAdicionarEquipamento}"
					press=".aoPressionarAdicionarEquipamento"
					type="Emphasized"  />
			</contentRight>
        </Bar>
    </customHeader>
		<content>
			<Panel accessibleRole="Region">
				<headerToolbar>
					<Toolbar>
						<SearchField 
							width="50%"
							search=".aoFiltrarEquipamentos"
							id="inputFiltro"
							class="sapUiSizeCompact leftAlignedSearch"/>
						<ToolbarSpacer/>
					</Toolbar>
				</headerToolbar>
			</Panel>
			<Table
				id="listaEquipamentos"
				headerText="{i18n>listPageTitle}"
				class="sapUiSizeCompact"
				inset="false"
				width="auto"
				items="{ path: 'equipamentos>/',
					sorter : {
						path : 'descricaoDoTipo',
						group : true
					}
						}">
				<columns>
					<Column
						hAlign="End"
						minScreenWidth="Small"
						demandPopin="true"
						width="8em">
						<Text text="{i18n>colunaQuantidade}" wrapping="false"/>
					</Column>
					<Column>
						<Text text="{i18n>colunaNome}" wrapping="false"/>
					</Column>
					<Column>
						<Text text="{i18n>dataInclusao}" wrapping="false"/>
					</Column>
					<Column >
						<Text  wrapping="false"/>
					</Column>
					<Column >
						<Text  wrapping="false"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem
						type="Active"
						press=".aoIrParaDetalhes">
						<cells>
							<Text text="{equipamentos>quantidadeEmEstoque}" textAlign="End"/>
							<Text text="{equipamentos>nome}" />
							<Text
								text="{
									path: 'equipamentos>dataDeInclusao',
									type: 'sap.ui.model.type.Date',
									formatOptions: {
										style: 'short'
										
									}
							}"/>
							<Button 
								id= "btnEditarLinhaListaEquipamento"
								press=".aoPressionarEditar"
								icon="sap-icon://edit"
								class=""
								type="Transparent">
								<customData>
									<core:CustomData key="itemId" value="{equipamentos>id}" />
								</customData>
							</Button>
							<Button 
								id= "btnDeletarLinhaListaEquipamento"
								press=".aoPressionarDeletar"
								icon="sap-icon://delete"
								class=""
								type="Transparent"
								ariaDescribedBy="rejectButtonDescription genericButtonDescription"
								
								>
								<customData>
									<core:CustomData key="itemId" value="{equipamentos>id}" />
								</customData>
							</Button>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>